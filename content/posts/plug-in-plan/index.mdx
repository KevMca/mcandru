---
title: "Plug-in Hybrid Plan"
date: 2020-12-06
slug: "/plug-in-plan"
tags:
    - Prius
---

For an overview of the current Prius battery system, got to [Battery System Overview](/prius-battery-overview).
This post will outline the plan for converting the Prius to a plug-in hybrid vehicle. The steps
are as follows:

1. Replace the current BMS (Battery Management System) with a custom board that will allow us to
    create our own custom battery.
2. Replace the current NiMH battery with a larger Lithium Ion cell battery.
3. Modify the inverter/converter, so that the battery can be charged using either a regular plug
    or a fast charging plug.

### 1. Battery Management System replacement ‚öñÔ∏è

The purpose of the battery management system is to monitor and balance each cell in the battery,
monitor the temperature, State of Charge (SOC) and current flowing to and from the battery.

<div style={{ maxWidth: '600px', height: 'auto', margin: '0 auto' }}>

<img src="./ecu.png" alt="battery_ecu"/>

</div>

<div style={{ textAlign: 'center' }}>

*__Fig 2.1__ The Gen 2 prius battery ECU (credit: peef)*

</div>

The old battery ECU does not have any expandable capability. It also does not support any form
of balancing, which would be useful for a Lithium Ion battery and for use at a higher percentage
of SOC. The new battery ECU must have a few added features with a focus on expandability.

The specification:

- Spoof the same CAN messages that are required by other controllers (these other controllers may
    need to be modified to be able to work correctly with a different battery)
- The ability to work with a range of battery voltages and cell configurations
- Easy battery monitor over CAN or OBD2
- Monitor temperature
- Control a temperature control system (air or liquid cooled)
- Monitor current to and from the battery
- Balance cells efficiently

### 2. Traction Battery replacement üîã

The current traction battery is a 201.6V 1.31kWh NiMH battery with 28 modules. I have seen claims
of 2 or 3km range with this battery at 60kmh cruising. This is obviously much too low for our needs!
Furthermore, we want to be able to use as much of the maximum charge as possible. This means that
balancing is probably important to have on the custom BMS.

The new battery should be of some Lithium persuasion. Old electric car modules or cells would be a
cheap source. 

### 3. Inverter / Converter Charger Mod üîå

- Monitor 
- Overview
- BMS
- Battery
- Charger
